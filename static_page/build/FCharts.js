!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.FCharts=e():t.FCharts=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/build/",e(0)}([function(t,exports,e){t.exports=e(1)},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(2),i=n(r),o=e(6),a=n(o),u=e(22),s=n(u),l={Chart:i["default"],Constant:a["default"],DefaultStyle:s["default"]};exports["default"]=l,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(){var t=this,e=this.eventCanvas;this.movable&&(this._dragging=!1,this._lastX,this._curX,this.on("move",b["default"].onMove),e.onmousedown=function(n){t._dragging=!0,t._lastX=T(e,n).x},e.onmouseup=function(){t._dragging=!1},e.onmousemove=function(n){var r=T(e,n).x,i=T(e,n).y;t.emit("move",{event:n,x:r,y:i,eventCanvas:e,__chart:t}),t._curX=r,t._dragging&&(t.setTranslation(r-(t._lastX?t._lastX:t._curX)),t.render()),t._lastX=t._curX}),this.zoomable&&(e.onwheel=function(n){var r=T(e,n).x,i=T(e,n).y,o=n.wheelDelta||-n.deltaY||-n.detail,a=o>0?1.1:1/1.1;t.emit("scale",{event:n,x:r,y:i,delta:o,eventCanvas:e,__chart:t}),t.setScale(a,r),t.render()})}Object.defineProperty(exports,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;u=l=s=void 0,r=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=o,n=a,r=!0}},s=e(28),l=n(s),f=e(4),c=n(f),h=e(10),d=(n(h),e(23)),v=(n(d),e(29)),y=n(v),p=e(3),g=n(p),m=e(31),b=n(m),x=e(6),w=n(x),O=e(13),_=n(O),k=e(22),P=n(k),T=_["default"].Canvas.getMousePos,A=function(t){function e(t){r(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.drawCanvas=t.drawCanvas,this.ctx=this.drawCanvas.getContext("2d"),this.seriesOptions=t.series||[],this.xAxisOptions=t.xAxis,this.eventCanvas=t.eventCanvas,this.movable=t.movable||!1,this.zoomable=t.zoomable||!1,this.useDefalutOnMove=t.useDefalutOnMove||!1,this.componentList={},this.tips=t.tips,this.style=t.style||{},_["default"].Common.merge(this.style,P["default"]),this.isInit=!1,this._buildXAxis()._buildSeries()._buildEvent()}return i(e,t),a(e,[{key:"init",value:function(){this.xBridge.init(),this.isInit=!0}},{key:"setData",value:function(t){c["default"]("x"in t,"param of chart.setData must be an Object and has property x");for(var e in t)"x"==e?this.xBridge.setData(t.x):this.componentList[e].setData(t[e])}},{key:"getComponent",value:function(t){return this.componentList[t]}},{key:"render",value:function(){this.isInit||this.init(),this.ctx.fillStyle=this.style.canvasColor,this.ctx.fillRect(0,0,this.drawCanvas.width,this.drawCanvas.height);for(var t in this.componentList)this.componentList[t].render()}},{key:"setScale",value:function(t,e){this.xBridge.setScale(t,e)}},{key:"setTranslation",value:function(t){this.xBridge.setTranslation(t)}},{key:"getInfoByX",value:function(t){var e=this.xBridge.getIndexByValue(t);if(-1!=e){var n={x:this.xBridge.getDataByIndex(e)};for(var r in this.componentList){var i=this.componentList[r].getYBridge();n[r]=i.getDataByIndex(e)}return n}}},{key:"_buildEvent",value:function(){return this.eventCanvas?void o.bind(this)():void console.warn("eventCanvas has not been set")}},{key:"_buildXAxis",value:function(){var t=this.xAxisOptions;return t.fixedCount?this.xBridge=y["default"](w["default"].XBridge.FIXED_COUNT,t):this.xBridge=y["default"](w["default"].XBridge.ITEM_WIDTH,t),this}},{key:"_buildSeries",value:function(){var t=this.seriesOptions;for(var e in t){var n=t[e];n.chart=this,this._addSeries(e,n)}return this}},{key:"_addSeries",value:function(t,e){var n=e.type;e.xBridge=this.xBridge,this.componentList[t]=g["default"](n,e)}}]),e}(l["default"]);exports["default"]=A,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){for(var r in b)b[r]&&l["default"](r in t,n+" property "+r+" is required");for(var r in e)b[r]&&l["default"](r in t,n+" property "+r+" is required")}function i(t){return r(t,O,"BarDrawComponent:"),d["default"](y,t)}function o(t){return r(t,x,"CandleDrawComponent:"),d["default"](m,t)}function a(t){return r(t,w,"LineDrawComponent:"),d["default"](g,t)}function u(t,e){switch(t){case y:return i(e);case m:return o(e);case g:return a(e);case p:throw new Error("not implement");default:throw new Error("type:"+t+" not supported")}}Object.defineProperty(exports,"__esModule",{value:!0});var s=e(4),l=n(s),f=e(6),c=n(f),h=e(7),d=n(h),v=c["default"].Component,y=v.BAR,p=v.AREA,g=v.LINE,m=v.CANDLE,b={range:!0,data:!0,xBridge:!0,chart:!0,yGridOn:!1,xGridOn:!1,tickCount:!1,labels:!1,niceTick:!1,style:!1,xTextFormat:!1},x={},w={},O={candleData:!0};exports["default"]=u,t.exports=exports["default"]},function(t,exports,e){(function(e){"use strict";var n=function(t,n,r,i,o,a,u,s){if("production"!==e.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var l;if(void 0===n)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,i,o,a,u,s],c=0;l=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return f[c++]}))}throw l.framesToPop=1,l}};t.exports=n}).call(exports,e(5))},function(t,exports){function e(){s=!1,o.length?u=o.concat(u):l=-1,u.length&&n()}function n(){if(!s){var t=setTimeout(e);s=!0;for(var n=u.length;n;){for(o=u,u=[];++l<n;)o[l].run();l=-1,n=u.length}o=null,s=!1,clearTimeout(t)}}function r(t,e){this.fun=t,this.array=e}function i(){}var o,a=t.exports={},u=[],s=!1,l=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new r(t,e)),1!==u.length||s||setTimeout(n,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=i,a.addListener=i,a.once=i,a.off=i,a.removeListener=i,a.removeAllListeners=i,a.emit=i,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={Painter:{LINE:"line",CANDLE:"candle",AREA:"area",X_GRID:"xGrid",Y_GRID:"yGrid",BAR:"bar"},YBridge:{OHLC:"ohlc"},XBridge:{FIXED_COUNT:"fixedCount",ITEM_WIDTH:"itemWidth"},Component:{LINE:"line",CANDLE:"candle",AREA:"area",BAR:"bar"},YAxisType:{NORMAL:"normal",SYMMETRY:"symmetry"}};exports["default"]=e,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(6),i=n(r),o=e(13),a=n(o),u=e(25),s=n(u),l=e(8),f=n(l),c=e(26),h=(n(c),e(27)),d=n(h),v=[[i["default"].Component.CANDLE,s["default"]],[i["default"].Component.LINE,f["default"]],[i["default"].Component.BAR,d["default"]]],y=a["default"].Common.makeKvObj(v),p=function(t,e){return new y[t](e)};exports["default"]=p,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;u=l=s=void 0,r=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=o,n=a,r=!0}},u=e(9),s=n(u),l=e(6),f=n(l),c=e(10),h=n(c),d=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.pickedProp=t.pickedProp||"close",this.linePainter=h["default"](f["default"].Painter.LINE)}return i(e,t),o(e,[{key:"draw",value:function(){var t=this,e=this.yBridge.getYAxis(),n=this.xBridge.getXAxis(),r=this.xBridge.getGap(),i=this.xBridge.getItemWidth(),o=e[0];"object"==typeof o&&(e=e.map(function(e){return e[t.pickedProp]})),this.linePainter.setCtx(this.ctx).setXAxis(n).setYAxis(e).setStyle(this.style.line).setStyle({gap:r,itemWidth:i}).render()}}]),e}(s["default"]);exports["default"]=d,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=e(10),a=n(o),u=e(6),s=n(u),l=e(13),f=n(l),c=e(22),h=n(c),d=e(23),v=n(d),y=function(t){return""},p=function(){function t(e){r(this,t),this.chart=e.chart,this.style=e.style||{},f["default"].Common.merge(this.style,h["default"]),this.xBridge=e.xBridge,this.yBridge=v["default"](e.bridgeType?e.bridgeType:s["default"].YBridge.OHLC,{range:e.range,data:e.data,tickCount:e.tickCount,niceTick:e.niceTick}),this.xTextFormat=e.xTextFormat||y,this.labels=e.labels||[],this.gridWidth=this.style.gridWidth,this.gridColor=this.style.gridColor,this.tickLabelColor=this.style.tickLabelColor,this.xGridOn=e.xGridOn||!1,this.yGridOn=e.yGridOn||!1,this.setXGridOn(this.xGridOn),this.setYGridOn(this.yGridOn)}return i(t,[{key:"setData",value:function(t){this.yBridge.setData(t)}},{key:"setYBridge",value:function(t){return this.yBridge=t,this}},{key:"setXBridge",value:function(t){return this.xBridge=t,this}},{key:"setXGridOn",value:function(t){return this.xGridOn=t,this.xGridOn&&!this.xGridPainter&&(this.xGridPainter=a["default"](s["default"].Painter.X_GRID)),this}},{key:"setYGridOn",value:function(t){return this.yGridOn=t,this.yGridOn&&!this.yGridPainter&&(this.yGridPainter=a["default"](s["default"].Painter.Y_GRID)),this}},{key:"beforeDraw",value:function(){this.yBridge.setViewDomain(this.xBridge.getViewDomain()),this.ctx=this.chart.ctx}},{key:"afterDraw",value:function(){this.drawGrid()}},{key:"draw",value:function(){console.error("subClass of DrawComponentBase should implements draw method :"+this.constructor.toString())}},{key:"render",value:function(){this.beforeDraw(),this.draw(),this.afterDraw()}},{key:"drawGrid",value:function(){var t=this,e=this.yBridge.getRange(),n=this.xBridge.getRange();if(this.yGridOn){var r=this.yBridge.getTicks();this.yGridPainter.setCtx(this.ctx).setYAxis(r).setXRange(n).setYRange(e).setStyle({strokeStyle:this.gridColor,lineWidth:this.gridWidth,tickLabelColor:this.tickLabelColor}).setLabels(this.labels).render()}if(this.xGridOn){var i=this.xBridge.getTicks();this.xGridPainter.setCtx(this.ctx).setXAxis(i).setXRange(n).setYRange(e).setStyle({strokeStyle:this.gridColor,lineWidth:this.gridWidth,tickLabelColor:this.tickLabelColor}).setTextArray(i.map(function(e){return t.xTextFormat(e.domainValue)})).render()}}},{key:"getYBridge",value:function(){return this.yBridge}}]),t}();exports["default"]=p,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(17),i=n(r),o=e(18),a=n(o),u=e(19),s=n(u),l=e(20),f=n(l),c=e(11),h=n(c),d=e(21),v=n(d),y=e(6),p=n(y),g=e(13),m=n(g),b=[[p["default"].Painter.LINE,s["default"]],[p["default"].Painter.CANDLE,i["default"]],[p["default"].Painter.AREA,a["default"]],[p["default"].Painter.X_GRID,f["default"]],[p["default"].Painter.Y_GRID,h["default"]],[p["default"].Painter.BAR,v["default"]]],x=m["default"].Common.makeKvObj(b),w=function(t,e){return new x[t](e)};exports["default"]=w,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;u=l=s=void 0,r=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=o,n=a,r=!0}},s=e(12),l=n(s),f=e(13),c=n(f),h=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.xRange=t.xRange,this.labels=t.labels}return i(e,t),a(e,[{key:"setLabels",value:function(t){return this.labels=t,this}},{key:"setXRange",value:function(t){return this.xRange=t,this}},{key:"setTextArray",value:function(t){return this.textArr=t,this}},{key:"draw",value:function(){var t=this.ctx,e=o(this.xRange,2),n=e[0],r=e[1];t.save();for(var i=0;i<this.yAxis.length;i++){var a=this.yAxis[i].rangeValue;t.moveTo(n,a),t.lineTo(r,a)}this.drawText(),t.restore()}},{key:"drawText",value:function(){var t=this.ctx,e=this.yAxis.map(function(t){return t.rangeValue}),n=this.yAxis.map(function(t){return t.domainValue});t.save(),t.fillStyle=this.style.tickLabelColor;for(var r=0;r<this.labels.length;r++)this._drawSingle(e,n,this.labels[r]);t.restore()}},{key:"_drawSingle",value:function(t,e,n){var r=o(this.xRange,2),i=r[0],a=r[1],u=void 0,s=void 0,l=n.top||0;"left"==n.pos&&("inner"==n.place&&(s="start"),"outer"==n.place&&(s="end"),u=n.base||i),"right"==n.pos&&("inner"==n.place&&(s="end"),"outer"==n.place&&(s="start"),u=n.base||a);var f=n.value||c["default"].Fn.identify,h=this.ctx;h.textAlign=s;for(var d=0;d<t.length;d++){var v=t[d];h.fillText(f(e[d]),u,v-l)}}}]),e}(l["default"]);exports["default"]=h,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=e(13),a=n(o),u=function(){function t(e){r(this,t),this.xRange=e.xRange,this.yRange=e.yRange,this.yAxis=e.yAxis||[],this.xAxis=e.xAxis||[],this.style=e.style||{},this.ctx=e.ctx}return i(t,[{key:"setCtx",value:function(t){return this.ctx=t,this}},{key:"setYRange",value:function(t){return this.yRange=t,this}},{key:"setXRange",value:function(t){return this.xRange=t,this}},{key:"setStyle",value:function(t){return a["default"].Common.merge(this.style,t,!0),this}},{key:"setXAxis",value:function(t){return this.xAxis=t,this}},{key:"setYAxis",value:function(t){return this.yAxis=t,this}},{key:"__beforeCheck",value:function(){this.xAxis.length<this.yAxis.length&&console.error("xAxis.length should bigger than yAxis.length")}},{key:"beforeDraw",value:function(){this.ctx.save(),this.ctx.beginPath()}},{key:"draw",value:function(){console.error("subClass should implements draw method")}},{key:"render",value:function(){this.beforeDraw(),this.draw(),this.afterDraw()}},{key:"afterDraw",value:function(){var t=this.ctx,e=this.style;t.strokeStyle=e.strokeStyle||e.color,t.fillStyle=e.fillStyle||e.color,t.lineWidth=e.lineWidth||1,e.brushType=e.brushType||"stroke","both"==e.brushType?(t.stroke(),t.fill()):"fill"==e.brushType?t.fill():t.stroke(),t.restore()}}]),t}();exports["default"]=u,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(14),i=n(r),o=e(15),a=n(o),u=Object.prototype.toString,s={};s.Type={isArray:function(t){return"[object Array]"==u.call(t)},isFunction:function(t){return"[object Function]"==u.call(t)}},s.String={capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},s.Common={merge:function(t,e,n){for(var r in e)r in t?n&&(t[r]=e[r]):t[r]=e[r];return t},makeKvObj:function(t){for(var e={},n=0;n<t.length;n++){var r=t[n];e[r[0]]=r[1]}return e},invertKv:function(t){var e={};for(var n in t)e[t[n]]=n;return e},generateGetterSetter:function(t,e){for(var n in e){var r=s.String.capitalizeFirstLetter(n),i=e[n];!function(e,n){t[e]=n,t["get"+e]=function(){return t[e]},t["set"+e]=function(n){return t[e]=n,t}}(r,i)}}},s.Array={push:function(t,e){if(s.isArray(e))for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e)},unshift:function(t,e){if(s.isArray(e))for(var n=0;n<e.length;n++)t.unshift(e[n]);else t.unshift(e)}},s.Math={LineScale:function(t,e){return new i["default"]({domain:t,range:e})},TimeScale:function(t,e){return new a["default"]({domain:t,range:e})},integerDivide:function(t,e){return{div:Math.floor(t/e),rem:t%e}}},s.Canvas={fillTextCenter:function(t,e,n,r){var i=t.measureText(this.textFormat).width;return t.fillText(e,n-i/2,r),i},wrapText:function(t,e,n,r,i,o){for(var a=e.split("\n"),u=0;u<a.length;u++){for(var s="",l=a[u].split(" "),f=0;f<l.length;f++){var c=s+l[f]+" ",h=t.measureText(c),d=h.width;d>i?(t.fillText(s,n,r),s=l[f]+" ",r+=o):s=c}t.fillText(s,n,r),r+=o}},getMousePos:function(t,e){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}},s.Fn={noop:function(){},identify:function(t){return t}};var l=function(t,e){return t>e?-1:e>t?1:0};s.Algorithms={binarySearch:function(t,e,n){n=n||l;for(var r,i,o=0,a=t.length-1;a>=o;){r=Math.floor((o+a)/2),i=t[r];var u=n(e,i);if(0>u)o=r+1;else{if(!(u>0))return r;a=r-1}}return-1}},exports["default"]=s,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){var n,r=Math.floor(Math.log10(t)),i=t/Math.pow(10,r);return n=e?1.5>i?1:3>i?2:7>i?5:10:1>=i?1:2>=i?2:5>=i?5:10,n*Math.pow(10,r)}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=e(13),s=(n(u),function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,t),this.domain=e.domain||[0,1],this.range=e.range||[0,1]}return a(t,[{key:"setRange",value:function(t){return this.range=t,this}},{key:"setDomain",value:function(t){return this.domain=t,this}},{key:"linear",value:function(t,e,n){var r=(n-t[0])/(t[1]-t[0]);return e[0]*(1-r)+e[1]*r}},{key:"scale",value:function(t){return this.linear(this.domain,this.range,t)}},{key:"invert",value:function(t){return this.linear(this.range,this.domain,t)}},{key:"ticks",value:function(){var t=arguments.length<=0||void 0===arguments[0]?10:arguments[0],e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return e?this._niceTick(t):this._avgTick(t)}},{key:"_avgTick",value:function(t){var e=o(this.domain,2),n=e[0],r=e[1];if(n>=r)return[];for(var i=(r-n)/(t-1),a=Math.floor(n*i/i),u=Math.ceil(r*i/i),i=i,s=[],l=a;u>l;l+=i)s.push(l);return s}},{key:"_niceTick",value:function(t){var e=o(this.domain,2),n=e[0],r=e[1];if(n>=r)return[];for(var a=t,u=i(r-n,!1),s=i(u/(a-1),!0),l=Math.floor(n/s)*s,f=Math.ceil(r/s)*s,c=l,h=f,d=s,v=[],y=c;h>y;y+=d)v.push(y);return v}}]),t}());exports["default"]=s,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=e(16),u=n(a),s=e(14),l=(n(s),[[6e4,u["default"].minute,1],[3e5,u["default"].minute,5],[9e5,u["default"].minute,15],[18e5,u["default"].minute,30],[36e5,u["default"].hour,1],[108e5,u["default"].hour,3],[216e5,u["default"].hour,6],[432e5,u["default"].hour,12],[864e5,u["default"].day,1],[1728e5,u["default"].day,2],[864e6,u["default"].day,10],[2592e6,u["default"].month,1],[7776e6,u["default"].month,3],[15552e6,u["default"].month,6],[31536e6,u["default"].year,1]]),f=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,t),this.domain=e.domain}return o(t,[{key:"setDomain",value:function(t){return this.domain=t,this}},{key:"ticks",value:function e(){for(var t,n,r=arguments.length<=0||void 0===arguments[0]?10:arguments[0],o=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],a=i(this.domain,2),u=a[0],s=a[1],f=s-u,c=l.length,h=c-1;h>=0;h--){var d=l[h],v=d[0];if(f/v>r){t=d[1],n=d[2];break}}t||(t=l[0][1],n=l[0][2]);var e=t.range(u,s,n);if(o&&e.length){var y=e.length;u.getTime()!=e[0].getTime()&&e.unshift(u),s.getTime()!=e[y-1].getTime()&&e.push(s)}return e}}]),t}();exports["default"]=f,t.exports=exports["default"]},function(t,exports){"use strict";function e(t,e,n){function r(e){var n=t(e),r=o(n,1);return r-e>e-n?n:r}function i(n){return e(n=t(new Date(n-1)),1),n}function o(t,n){return e(t=new Date(+t),n),t}function a(r,i,o){var a=t(r),u=[];if(o>1)for(;i>a;)n(a)%o||u.push(new Date(+a)),e(a,1);else for(;i>a;)u.push(new Date(+a)),e(a,1);return u}return t.floor=t,t.range=a,t.ceil=i,t.round=r,t.offset=o,t}Object.defineProperty(exports,"__esModule",{value:!0});var n={};n.second=e(function(t){return new Date(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),n.minute=e(function(t){return new Date(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),n.hour=e(function(t){var e=t.getTimezoneOffset()/60;return new Date(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),n.day=e(function(t){var e=new Date(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),n.dayOfYear=function(t){var e=this.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},n.month=e(function(t){return t=n.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),n.year=e(function(t){return t=n.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()});[[6e4,n.minute,1],[3e5,n.minute,5],[9e5,n.minute,15],[18e5,n.minute,30],[36e5,n.hour,1],[108e5,n.hour,3],[216e5,n.hour,6],[432e5,n.hour,12],[864e5,n.day,1],[1728e5,n.day,2],[864e6,n.day,10],[2592e6,n.month,1],[7776e6,n.month,3],[15552e6,n.month,6],[31536e6,n.year,1]];exports["default"]=n,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;u=l=s=void 0,r=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=o,n=a,r=!0}},u=e(12),s=n(u),l=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return i(e,t),o(e,[{key:"draw",value:function(){for(var t=this.ctx,e=this.xAxis,n=this.yAxis,r=this.style.itemWidth||6,i=this.style.gap||0,o=0;o<n.length;o++){var a=n[o],u=e[o],s=a.open,l=a.close,f=a.high,c=a.low;u+=i/2;var h=u+r,d=(u+h)/2;t.moveTo(u,s),t.lineTo(h,s),t.lineTo(h,l),t.lineTo(u,l),t.lineTo(u,s);var v,y;s>l?(v=l,y=s):(v=s,y=l),t.moveTo(d,v),t.lineTo(d,f),t.moveTo(d,y),t.lineTo(d,c)}}}]),e}(s["default"]);exports["default"]=l,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;u=l=s=void 0,r=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=o,n=a,r=!0}},u=e(12),s=n(u),l=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return i(e,t),o(e,[{key:"render",value:function(){this.beforeDraw();var t=this.xAxis,e=this.yAxis;if(0===t.length||0===e.length)throw new Error("xAxis and yAxis should not be empty");for(var n=Math.min(e.length,t.length),r=1;n>r;r++){var i=t[r],o=e[r];ctx.lineTo(i,o)}this.setStyle({brushType:"stroke"}),this.afterDraw(),ctx.lineTo(t[n-1],this.xRange[0]),ctx.lineTo(t[0],this.xRange[1]),this.setStyle({brushType:"fill"}),this.afterDraw()}}]),e}(s["default"]);exports["default"]=l,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;u=l=s=void 0,r=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=o,n=a,r=!0}},u=e(12),s=n(u),l=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return i(e,t),o(e,[{key:"draw",value:function(){var t=this.ctx,e=this.xAxis,n=this.yAxis,r=this.style.gap||0,i=this.style.itemWidth||6;if(0===e.length||0===n.length)throw new Error("xAxis and yAxis should not be empty");var o=r/2+i/2;t.moveTo(e[0]+o,n[0]);for(var a=Math.min(n.length,e.length),u=1;a>u;u++){var s=n[u],l=e[u]+o;t.lineTo(l,s)}}},{key:"afterDraw",value:function(){var t=this.style;t.lineDash&&("function"==typeof ctx.setLineDash?ctx.setLineDash(t.lineDash):console.warn("setLineDash not support in your browser")),
a(Object.getPrototypeOf(e.prototype),"afterDraw",this).call(this)}}]),e}(s["default"]);exports["default"]=l,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;u=l=s=void 0,r=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=o,n=a,r=!0}},s=e(12),l=n(s),f=e(13),c=(n(f),function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.yRange=t.yRange,this.xAxis=t.xAxis,this.textArr=t.textArr}return i(e,t),a(e,[{key:"setTextArray",value:function(t){return this.textArr=t,this}},{key:"draw",value:function(){var t=this.ctx,e=o(this.yRange,2),n=e[0],r=e[1],i=this.textArr,a=-(1/0);t.save(),t.fillStyle=this.style.tickLabelColor;for(var u=0;u<this.xAxis.length;u++){var s=this.xAxis[u].rangeValue;if(t.moveTo(s,n),t.lineTo(s,r),i){var l=i[u],f=t.measureText(l).width;s-f/2>a&&(t.fillText(l,s-f/2,r+15),a=s+f/2)}}t.restore()}}]),e}(l["default"]));exports["default"]=c,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;u=l=s=void 0,r=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=o,n=a,r=!0}},u=e(12),s=n(u),l=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return i(e,t),o(e,[{key:"draw",value:function(){for(var t=this.ctx,e=this.xAxis,n=this.yAxis,r=this.style.itemWidth||6,i=this.yRange[1],o=0;o<n.length;o++){var a=n[o],u=e[o];t.moveTo(u,i),t.lineTo(u,a),t.lineTo(u+r,a),t.lineTo(u+r,i),t.closePath()}}}]),e}(s["default"]);exports["default"]=l,t.exports=exports["default"]},function(t,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e="#f85c5c",n="#50c88c",r={canvasColor:"#FFFFFF",candleUp:{fillStyle:e,brushType:"both",strokeStyle:"#f85c5c"},candleDown:{strokeStyle:n,brushType:"stroke"},line:{brushType:"stroke",lineWidth:1,strokeStyle:"#666"},barUp:{fillStyle:e,brushType:"fill"},barDown:{fillStyle:n,brushType:"fill"},gridColor:"#666",tickLabelColor:"#a9a9a9",crossColor:"#999999",tipColor:"#f1f1f1",gridWidth:1};exports["default"]=r,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(24),i=e(6),o=n(i),a=e(13),u=n(a),s=[[o["default"].YBridge.OHLC,r.YDataBridge]],l=u["default"].Common.makeKvObj(s),f=function(t,e){return new l[t](e)};exports["default"]=f,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=e(13),u=n(a),s=e(6),l=n(s),f=function(){function t(e){r(this,t),this.axisType=e.axisType||"default",this.data=e.data||[],this.range=e.range,this.viewDomain=e.viewDomain||[0,this.data.length],this.yAxis=new Array(this.data.length),this.tickCount=e.tickCount,this.niceTick=e.niceTick||!1,this.linearScale=u["default"].Math.LineScale()}return o(t,[{key:"init",value:function(){this.buildAxis()}},{key:"cloneWithOptions",value:function(e){var n={axisType:this.axisType,range:[this.range[0],this.range[1]]},r=u["default"].Common.merge(n,e,!0);return new t(r)}},{key:"setData",value:function(t){this.data=t,this.buildAxis()}},{key:"_calcMaxMin",value:function(){var t=i(this.viewDomain,2),e=t[0],n=t[1],r=-(1/0),o=1/0,a=this.data;if("object"==typeof a[0])for(var u=e;n>u;u++){var s=a[u],f=s.high,c=s.low;f>r&&(r=f),o>c&&(o=c)}else for(var u=e;n>u;u++){var h=a[u];h>r&&(r=h),o>h&&(o=h)}if(this.axisType===l["default"].YAxisType.SYMMETRY){var d=Math.max(Math.abs(o),Math.abs(r));o=-d,r=d}this.domain=[o,r],this.linearScale.setDomain(this.domain).setRange(this.range)}},{key:"buildAxis",value:function(){this._calcMaxMin();var t=this.data,e=this.range[1]+this.range[0],n=this.linearScale,r=i(this.viewDomain,2),o=r[0],a=r[1];return this.yAxis=t.slice(o,a).map(function(t){if("object"==typeof t){var r={};for(var i in t)r[i]=e-n.scale(t[i]);return r}return e-n.scale(t)}),this}},{key:"setViewDomain",value:function(t,e){return void 0===e&&(e=!0),this.viewDomain=t,e&&this.buildAxis(),this}},{key:"getYAxis",value:function(){return this.yAxis}},{key:"getTicks",value:function(){for(var t=this.linearScale.ticks(this.tickCount,this.niceTick),e=this.range[1]+this.range[0],n=[],r=0;r<t.length;r++){var i=t[r],o=e-this.linearScale.scale(i);o>this.range[1]||o<this.range[0]||n.push({domainValue:i,rangeValue:o})}return n}},{key:"getViewData",value:function(){var t=i(this.viewDomain,2),e=t[0],n=t[1];return this.data.slice(e,n)}},{key:"getData",value:function(){return this.data}},{key:"getDataByIndex",value:function(t){return this.data[t]}},{key:"getViewDomain",value:function(){return this.viewDomain}},{key:"getDomain",value:function(){return this.domain}},{key:"getRange",value:function(){return this.range}}]),t}();exports.YDataBridge=f},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;u=l=s=void 0,r=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=o,n=a,r=!0}},u=e(10),s=n(u),l=e(6),f=n(l),c=e(13),h=(n(c),e(9)),d=n(h),v=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.upCandlePainter=s["default"](f["default"].Painter.CANDLE),this.downCandlePaiter=s["default"](f["default"].Painter.CANDLE)}return i(e,t),o(e,[{key:"draw",value:function(){for(var t=this.yBridge.getYAxis(),e=this.xBridge.getXAxis(),n=this.yBridge.getRange(),r=this.xBridge.getRange(),i=this.yBridge.getViewData(),o=this.xBridge.getItemWidth(),a=this.xBridge.getGap(),u=[],s=[],l=[],f=[],c=0;c<i.length;c++){var h=i[c];h.close<h.open?(s.push(t[c]),f.push(e[c])):(u.push(t[c]),l.push(e[c]))}this.upCandlePainter.setCtx(this.ctx).setXAxis(l).setYAxis(u).setXRange(r).setYRange(n).setStyle(this.style.candleUp).setStyle({itemWidth:o,gap:a}).render(),this.downCandlePaiter.setCtx(this.ctx).setXAxis(f).setYAxis(s).setXRange(r).setYRange(n).setStyle(this.style.candleDown).setStyle({itemWidth:o,gap:a}).render()}}]),e}(d["default"]);exports["default"]=v,t.exports=exports["default"]},function(t,exports){"use strict"},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t){return t.close<t.open?"down":"up"}Object.defineProperty(exports,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;u=l=s=void 0,r=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=o,n=a,r=!0}},s=e(9),l=n(s),f=e(6),c=n(f),h=e(10),d=n(h),v=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.upBarPainter=d["default"](c["default"].Painter.BAR),this.downBarPainter=d["default"](c["default"].Painter.BAR),this.candleData=t.candleData||[],this.upDownSplitFn=t.upDownSplitFn||o}return i(e,t),a(e,[{key:"setData",value:function(t){this.data=t.data,this.candleData=t.candleData,u(Object.getPrototypeOf(e.prototype),"setData",this).call(this,this.data)}},{key:"draw",value:function(){for(var t=this.yBridge.getYAxis(),e=this.xBridge.getXAxis(),n=this.xBridge.getItemWidth(),r=this.yBridge.getRange(),i=this.xBridge.getRange(),o=this.xBridge.getViewDomain(),a=this.candleData.slice(o[0],o[1]),u=[],s=[],l=[],f=[],c=0;c<a.length;c++){var h=a[c];"down"===this.upDownSplitFn(h)?(s.push(t[c]),f.push(e[c])):(u.push(t[c]),l.push(e[c]))}this.upBarPainter.setCtx(this.ctx).setYRange(r).setXRange(i).setXAxis(l).setYAxis(u).setStyle(this.style.barUp).setStyle({itemWidth:n}).render(),this.downBarPainter.setCtx(this.ctx).setYRange(r).setXRange(i).setXAxis(f).setYAxis(s).setStyle(this.style.barDown).setStyle({itemWidth:n}).render()}}]),e}(l["default"]);exports["default"]=v,t.exports=exports["default"]},function(t,exports,e){var n;(function(){"use strict";function r(){}function i(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function o(t){return function(){return this[t].apply(this,arguments)}}var a=r.prototype,exports=this,u=exports.EventEmitter;a.getListeners=function(t){var e,n,r=this._getEvents();if(t instanceof RegExp){e={};for(n in r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n])}else e=r[t]||(r[t]=[]);return e},a.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},a.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},a.addListener=function(t,e){var n,r=this.getListenersAsObject(t),o="object"==typeof e;for(n in r)r.hasOwnProperty(n)&&-1===i(r[n],e)&&r[n].push(o?e:{listener:e,once:!1});return this},a.on=o("addListener"),a.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},a.once=o("addOnceListener"),a.defineEvent=function(t){return this.getListeners(t),this},a.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},a.removeListener=function(t,e){var n,r,o=this.getListenersAsObject(t);for(r in o)o.hasOwnProperty(r)&&(n=i(o[r],e),-1!==n&&o[r].splice(n,1));return this},a.off=o("removeListener"),a.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},a.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},a.manipulateListeners=function(t,e,n){var r,i,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(r=n.length;r--;)o.call(this,e,n[r]);else for(r in e)e.hasOwnProperty(r)&&(i=e[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},a.removeEvent=function(t){var e,n=typeof t,r=this._getEvents();if("string"===n)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},a.removeAllListeners=o("removeEvent"),a.emitEvent=function(t,e){var n,r,i,o,a,u=this.getListenersAsObject(t);for(o in u)if(u.hasOwnProperty(o))for(n=u[o].slice(0),i=n.length;i--;)r=n[i],r.once===!0&&this.removeListener(t,r.listener),a=r.listener.apply(this,e||[]),a===this._getOnceReturnValue()&&this.removeListener(t,r.listener);return this},a.trigger=o("emitEvent"),a.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},a.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},a._getEvents=function(){return this._events||(this._events={})},r.noConflict=function(){return exports.EventEmitter=u,r},n=function(){return r}.call(exports,e,exports,t),!(void 0!==n&&(t.exports=n))}).call(this)},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(30),i=e(6),o=n(i),a=e(13),u=n(a),s=[[o["default"].XBridge.FIXED_COUNT,r.XDataBridgeWithFixedCount],[o["default"].XBridge.ITEM_WIDTH,r.XDataBridgeWithItemWidth]],l=u["default"].Common.makeKvObj(s),f=function(t,e){return new l[t](e)};exports["default"]=f,t.exports=exports["default"]},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;u=l=s=void 0,r=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=o,n=a,r=!0}},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=e(13),l=n(s),f=function(){function t(e){i(this,t),this._options=e,this.data=e.data||[],this.range=e.range,this.gap=e.gap||0,this.beginDate=e.beginDate,this.endDate=e.endDate,this.direction=e.direction||"end",this.scaleRange=e.scaleRange||[.01,5],this.scale=1,this.tickCount=e.tickCount||10}return u(t,[{key:"init",value:function(){this.initItemWidth(this._options),this._originItemWidth=this.itemWidth,this._buildInitAxis()}},{key:"initItemWidth",value:function(t){throw new Error("subClass of XDataBridge should implement initItemWidth")}},{key:"setData",value:function(t){this.data=t,this._buildInitAxis()}},{key:"getIndexByValue",value:function(t){var e=this.xAxis;if(0==e.length)return-1;var n=this.itemWidth+this.gap;return l["default"].Algorithms.binarySearch(e,t,function(t,e){return e>=t-n&&t>=e?0:t>e+n?-1:1})}},{key:"_updateXAxis",value:function(t){for(var e=this.xAxis,n=o(this.range,2),r=n[0],i=n[1],a=this.itemWidth+this.gap,u=void 0,s=void 0,l=0;l<e.length;l++)e[l]=t(e[l],l),void 0===u&&e[l]+a>=r&&(u=l),void 0===s&&e[l]>=i&&(s=l);u=void 0===u?0:u,s=void 0===s?e.length:s,this.viewDomain=[u,s]}},{key:"_buildInitAxis",value:function(){var t=this.range,e=this.data,n=t[0],r=this.itemWidth+this.gap,i=0;void 0!==this.displayCount&&this.displayCount<e.length&&"end"==this.direction&&(i=(e.length-this.displayCount)*r),this.xAxis=new Array(this.data.length);var o=n-i;return this._updateXAxis(function(t,e){return r*e+o}),this}},{key:"getTicks",value:function(){for(var t=(this.itemWidth+this.gap)/2,e=0,n=this.data.length-1,r=this.data,i=this.beginDate||r[e],o=this.endDate||r[n-1],a=this.xAxis,u=l["default"].Math.TimeScale([i,o],[a[0],a[a.length-1]]),s=this.scale>1?this.scale:1,f=u.ticks(Math.round(this.tickCount*s)),c=[],h=0;h<f.length;h++){var d=f[h],v=l["default"].Algorithms.binarySearch(this.data,d);-1!=v&&c.push({domainValue:this.data[v],rangeValue:this.xAxis[v]+t,index:v})}return c}},{key:"getItemWidth",value:function(){return this.itemWidth}},{key:"getGap",value:function(){return this.gap}},{key:"getData",value:function(){return this.data}},{key:"getViewData",value:function(){var t=o(this.viewDomain,2),e=t[0],n=t[1];return this.data.slice(e,n)}},{key:"getViewDomain",value:function(){return this.viewDomain}},{key:"getRange",value:function(){return this.range}},{key:"getXAxis",value:function(){var t=o(this.viewDomain,2),e=t[0],n=t[1];return this.xAxis.slice(e,n)}},{key:"getDataByIndex",value:function(t){return this.data[t]}},{key:"setScale",value:function(t,e){var n=this.scale*t;if(n>this.scaleRange[1]||n<this.scaleRange[0])return this;this.scale=n;var r=this.xAxis,i=r.length,o=r[i-1],a=r[0],u=this.itemWidth,s=-1;s=e>=o?Math.round(e-o)/u:a>=e?Math.round(e-a)/u:this.getIndexByValue(e),this.itemWidth=this._originItemWidth*this.scale;var l=this.itemWidth,f=l-u;return this._updateXAxis(function(t,e){return t+f*(e-s)}),this}},{key:"setTranslation",value:function(t){return this._updateXAxis(function(e,n){return e+t}),this}}]),t}(),c=function(t){function e(t){if(i(this,e),!("itemWidth"in t))throw new Error("need itemWidth");a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return r(e,t),u(e,[{key:"initItemWidth",value:function(t){var e=this.gap,n=this.range,r=t.itemWidth;if(n[0]>=n[1])throw new Error("区间(Range)开始数值，应小于结束数值");var i=n[1]-n[0],o=l["default"].Math.integerDivide(i+e,r+e),a=o.div;this.displayCount=a;var u=o.rem;r+=u/a,this.itemWidth=r}}]),e}(f);exports.XDataBridgeWithItemWidth=c;var h=function(t){function e(t){if(i(this,e),!("fixedCount"in t))throw new Error("need fixedCount");a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return r(e,t),u(e,[{key:"initItemWidth",value:function(t){this.displayCount=this.fixedCount=t.fixedCount;var e=this.gap,n=this.range,r=n[1]-n[0],i=r/this.fixedCount;if(e>i)throw new Error("gap too big，itemWidth will be zero or negative");this.itemWidth=i-e}}]),e}(f);exports.XDataBridgeWithFixedCount=h},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=t.__chart,n=t.eventCanvas,r=t.x,i=t.y,a=n.getContext("2d"),u=e.getInfoByX(r);if(a.clearRect(0,0,n.width,n.height),a.save(),a.beginPath(),a.strokeStyle=e.style.crossColor,a.fillStyle=e.style.tipColor,a.font="18px",a.moveTo(r,0),a.lineTo(r,n.height),a.stroke(),void 0!==u){var s=e.tips(u);o["default"].Canvas.wrapText(a,s,r,i,200,20)}a.restore()}Object.defineProperty(exports,"__esModule",{value:!0});var i=e(13),o=n(i);exports["default"]={onMove:r},t.exports=exports["default"]}])});
//# sourceMappingURL=FCharts.js.map